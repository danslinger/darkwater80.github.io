
<meta name="viewport" content="width = 1100" content="initial-scale=0" >

<!-------------------------------------------------------------
                     LOAD FAV ICO IMAGE
--------------------------------------------------------------->
<link rel="icon" href="http://www.dagrafixdesigns.com/Images/2008/DA_2017/DA_Pro16/black.ico" type="image/x-icon">



<!-------------------------------------------------------------
                     LOAD JQUERY LIBRARY
--------------------------------------------------------------->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

<!-------------------------------------------------------------
       HTML REPLACE HPM TABS WITH CUSTOM TABS AND LINKS
--------------------------------------------------------------->

<div id="replacehometabs" class="tab_v1">
 <ul id="replacetabs">
   <li><a href="http://%LIVESCORINGHOST%/%YEAR%/home/%LEAGUEID%">Home</a></li> 
   <li><a href="http://%LIVESCORINGHOST%/%YEAR%/home/%LEAGUEID%#1">Management</a></li> 
   <li><a href="http://%LIVESCORINGHOST%/%YEAR%/home/%LEAGUEID%#2">Gameday</a></li> 
   <li><a href="http://%LIVESCORINGHOST%/%YEAR%/home/%LEAGUEID%#3">Pools</a></li>
   <li><a href="http://%LIVESCORINGHOST%/%YEAR%/home/%LEAGUEID%#4">Standings</a></li> 
   <li><a href="http://%LIVESCORINGHOST%/%YEAR%/home/%LEAGUEID%#5">Rosters</a></li>
   <li><a href="http://%LIVESCORINGHOST%/%YEAR%/home/%LEAGUEID%#6">Reports</a></li>  
   <li><a href="http://%LIVESCORINGHOST%/%YEAR%/home/%LEAGUEID%#7">Calendar</a></li> 
   <li><a href="http://%LIVESCORINGHOST%/%YEAR%/home/%LEAGUEID%#8">Playoffs</a></li>  
   <li><a href="http://%LIVESCORINGHOST%/%YEAR%/home/%LEAGUEID%#9">Draft</a></li> 
   <li><a href="http://%LIVESCORINGHOST%/%YEAR%/home/%LEAGUEID%#10">Forums</a></li>  
   <li><a href="http://%LIVESCORINGHOST%/%YEAR%/home/%LEAGUEID%#11">History</a></li> 
   <li class="searchform"><form method='get' action='http://football.myfantasyleague.com/%YEAR%/player_search'><input type='text' name='NAME' value='Player Search' size='10' class='reallysmall cleardefault'><input type='hidden' name='L' value=%LEAGUEID%>
               
</form></li> 
   <li class="tablink img1"><a href="http://%HOST%/%YEAR%/options?L=%LEAGUEID%&O=247&SEQNO=19"><img src="http://www.dagrafixdesigns.com/Images/2008/DA_2017/DA_Pro16/tablink-scoreboard.png" title="View Live Scoring"></a></li>
   <li class="tablink rafters_btn_open"><a><img src="http://www.dagrafixdesigns.com/Images/2008/DA_2017/DA_Pro16/tablink-rafters.png" title="Champion Rafters"></a></li>
   <li class="tablink img7"><a href="http://%HOST%/%YEAR%/options?L=%LEAGUEID%&O=247&SEQNO=16"><img src="" title="Twitter Feed"></a></li>
 </ul>
</div>

<div id="replacehometabs" class="tab_v2">
 <ul id="replacetabs">
  <li class="" id="tab0" title="" onclick="javascript:show_tab('0');"><a>Home</a></li>
  <li class="" id="tab1" title="" onclick="javascript:show_tab('1');"><a>Management</a></li>
  <li class="" id="tab2" title="" onclick="javascript:show_tab('2');"><a>Gameday</a></li>
  <li class="" id="tab3" title="" onclick="javascript:show_tab('3');"><a>Pools</a></li>
  <li class="" id="tab4" title="" onclick="javascript:show_tab('4');"><a>Standings</a></li>
  <li class="" id="tab5" title="" onclick="javascript:show_tab('5');"><a>Rosters</a></li>
  <li class="" id="tab6" title="" onclick="javascript:show_tab('6');"><a>Reports</a></li>
  <li class="" id="tab7" title="" onclick="javascript:show_tab('7');"><a>Calendar</a></li>
  <li class="" id="tab8" title="" onclick="javascript:show_tab('8');"><a>Playoffs</a></li>
  <li class="" id="tab9" title="" onclick="javascript:show_tab('9');"><a>Draft</a></li>
  <li class="" id="tab10" title="" onclick="javascript:show_tab('10');"><a>Forums</a></li>
  <li class="" id="tab11" title="" onclick="javascript:show_tab('11');"><a>History</a></li>
   <li class="searchform"><form method='get' action='http://football.myfantasyleague.com/%YEAR%/player_search'><input type='text' name='NAME' value='Player Search' size='10' class='reallysmall cleardefault'><input type='hidden' name='L' value=%LEAGUEID%>
                
</form></li> 
   <li class="tablink img1"><a href="http://%HOST%/%YEAR%/options?L=%LEAGUEID%&O=247&SEQNO=19"><img src="http://www.dagrafixdesigns.com/Images/2008/DA_2017/DA_Pro16/tablink-scoreboard.png" title="View Live Scoring"></a></li>
   <li class="tablink rafters_btn_open"><a><img src="http://www.dagrafixdesigns.com/Images/2008/DA_2017/DA_Pro16/tablink-rafters.png" title="Champion Rafters"></a></li>
   <li class="tablink img7"><a href="http://%HOST%/%YEAR%/options?L=%LEAGUEID%&O=247&SEQNO=16"><img src="" title="Twitter Feed"></a></li>
 </ul>
</div>



<script type="text/javascript">
function show_tab (tab_id) {
   var done = false;
   var counter = 0;
   while (! done) {
      var this_tab_content = document.getElementById("tabcontent" + counter);
      var this_tab = document.getElementById("tab" + counter);
      if (! this_tab_content) {
         done = true;
      } else {
         if (counter == tab_id) {
            this_tab_content.style.display = 'block';
            this_tab.className = "currenttab";
         } else {
            this_tab_content.style.display = 'none';
            this_tab.className = "inactivetab";
         }
      }
      counter++;
   }
   location.hash = tab_id;
}


$(document).ready(function () {

    $('#replacetabs li#tab5').one('click',function(){
      $.get('http://%HOST%/%YEAR%/options?L=%LEAGUEID%&O=247&SEQNO=4', function (data) {
        if( !$.trim( $('#tabcontent5 div').html() ).length ) {
         $(data).find('#GetRoster').appendTo('#tabcontent5 div');
		PlayerPopup.renderIcons({
		});
        }
      });
    });
    if ( document.location.href.indexOf('#5') > -1 ) {
      $.get('http://%HOST%/%YEAR%/options?L=%LEAGUEID%&O=247&SEQNO=4', function (data) {
        if( !$.trim( $('#tabcontent5 div').html() ).length ) {
         $(data).find('#GetRoster').appendTo('#tabcontent5 div');
		PlayerPopup.renderIcons({
		});
        }
      });
    }
    $('#replacetabs li#tab10').one('click',function(){
      $.get('http://%HOST%/%YEAR%/options?L=%LEAGUEID%&O=247&SEQNO=16', function (data) {
        if( !$.trim( $('#tabcontent10 div').html() ).length ) {
         $(data).find('#GetForums').appendTo('#tabcontent10 div');
        }
      });
    });
    if ( document.location.href.indexOf('#10') > -1 ) {
      $.get('http://%HOST%/%YEAR%/options?L=%LEAGUEID%&O=247&SEQNO=16', function (data) {
        if( !$.trim( $('#tabcontent10 div').html() ).length ) {
         $(data).find('#GetForums').appendTo('#tabcontent10 div');
        }
      });
    }
    $('#replacetabs li#tab11').one('click',function(){
      $.get('http://%HOST%/%YEAR%/options?L=%LEAGUEID%&O=247&SEQNO=5', function (data) {
        if( !$.trim( $('#tabcontent11 div').html() ).length ) {
         $(data).find('#GetHistory').appendTo('#tabcontent11 div');
        }
      });
    });
    if ( document.location.href.indexOf('#11') > -1 ) {
      $.get('http://%HOST%/%YEAR%/options?L=%LEAGUEID%&O=247&SEQNO=5', function (data) {
        if( !$.trim( $('#tabcontent11 div').html() ).length ) {
         $(data).find('#GetHistory').appendTo('#tabcontent11 div');
        }
      });
    }

});
</script>

<style>
#tabcontent0,#tabcontent1,#tabcontent2,#tabcontent3,#tabcontent4,#tabcontent5,
#tabcontent6,#tabcontent7,#tabcontent8,#tabcontent9,#tabcontent10,#tabcontent11,#tabcontent12{display:none;}
</style>


<!-------------------------------------------------------------
                     LOAD RAW POPUP JS FILE
--------------------------------------------------------------->

<script type="text/javascript">
(function ($) {
    var $window = $(window);
    var options = {};
    var zindexvalues = [];
    var lastclicked = [];
    var scrollbarwidth;
    var bodymarginright = null;
    var opensuffix = '_open';
    var closesuffix = '_close';
    var visiblePopupsArray = [];
    var transitionsupport = null;
    var opentimer;
    var iOS = /(iPad|iPhone|iPod)/g.test(navigator.userAgent);
    var focusableElementsString = "a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";

    var methods = {

        _init: function (el) {
            var $el = $(el);
            var options = $el.data('popupoptions');
            lastclicked[el.id] = false;
            zindexvalues[el.id] = 0;

            if (!$el.data('popup-initialized')) {
                $el.attr('data-popup-initialized', 'true');
                methods._initonce(el);
            }

            if (options.autoopen) {
                setTimeout(function() {
                    methods.show(el, 0);
                }, 0);
            }
        },

        _initonce: function (el) {
            var $el = $(el);
            var $body = $('body');
            var $wrapper;
            var options = $el.data('popupoptions');
            var css;

            bodymarginright = parseInt($body.css('margin-right'), 10);
            transitionsupport = document.body.style.webkitTransition !== undefined ||
                                document.body.style.MozTransition !== undefined ||
                                document.body.style.msTransition !== undefined ||
                                document.body.style.OTransition !== undefined ||
                                document.body.style.transition !== undefined;

            if (options.type == 'tooltip') {
                options.background = false;
                options.scrolllock = false;
            }

            if (options.backgroundactive) {
                options.background = false;
                options.blur = false;
                options.scrolllock = false;
            }

            if (options.scrolllock) {
                // Calculate the browser's scrollbar width dynamically
                var parent;
                var child;
                if (typeof scrollbarwidth === 'undefined') {
                    parent = $('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo('body');
                    child = parent.children();
                    scrollbarwidth = child.innerWidth() - child.height(99).innerWidth();
                    parent.remove();
                }
            }

            if (!$el.attr('id')) {
                $el.attr('id', 'j-popup-' + parseInt((Math.random() * 100000000), 10));
            }

            $el.addClass('popup_content');

            $body.prepend(el);

            $el.wrap('<div id="' + el.id + '_wrapper" class="popup_wrapper" />');

            $wrapper = $('#' + el.id + '_wrapper');

            $wrapper.css({
                opacity: 0,
                visibility: 'hidden',
                position: 'absolute'
            });

            // Make div clickable in iOS
            if (iOS) {
                $wrapper.css('cursor', 'pointer');
            }

            if (options.type == 'overlay') {
                $wrapper.css('overflow','auto');
            }

            $el.css({
                opacity: 0,
                visibility: 'hidden',
                display: 'inline-block'
            });

            if (options.setzindex && !options.autozindex) {
                $wrapper.css('z-index', '100001');
            }

            if (!options.outline) {
                $el.css('outline', 'none');
            }

            if (options.transition) {
                $el.css('transition', options.transition);
                $wrapper.css('transition', options.transition);
            }

            // Hide popup content from screen readers initially
            $el.attr('aria-hidden', true);

            if ((options.background) && (!$('#' + el.id + '_background').length)) {

                $body.prepend('<div id="' + el.id + '_background" class="popup_background"></div>');

                var $background = $('#' + el.id + '_background');

                $background.css({
                    opacity: 0,
                    visibility: 'hidden',
                    backgroundColor: options.color,
                    position: 'fixed',
                    top: 0,
                    right: 0,
                    bottom: 0,
                    left: 0
                });

                if (options.setzindex && !options.autozindex) {
                    $background.css('z-index', '100000');
                }

                if (options.transition) {
                    $background.css('transition', options.transition);
                }
            }

            if (options.type == 'overlay') {
                $el.css({
                    textAlign: 'left',
                    position: 'relative',
                    verticalAlign: 'middle'
                });

                css = {
                    position: 'fixed',
                    width: '100%',
                    height: '100%',
                    top: 0,
                    left: 0,
                    textAlign: 'center'
                };

                if(options.backgroundactive){
                    css.position = 'relative';
                    css.height = '0';
                    css.overflow = 'visible';
                }

                $wrapper.css(css);

                // CSS vertical align helper
                $wrapper.append('<div class="popup_align" />');

                $('.popup_align').css({
                    display: 'inline-block',
                    verticalAlign: 'middle',
                    height: '100%'
                });
            }

            // Add WAI ARIA role to announce dialog to screen readers
            $el.attr('role', 'dialog');

            var openelement =  (options.openelement) ? options.openelement : ('.' + el.id + opensuffix);

            $(openelement).each(function (i, item) {
                $(item).attr('data-popup-ordinal', i);

                if (!item.id) {
                    $(item).attr('id', 'open_' + parseInt((Math.random() * 100000000), 10));
                }
            });

            // Set aria-labelledby (if aria-label or aria-labelledby is not set in html)
            if (!($el.attr('aria-labelledby') || $el.attr('aria-label'))) {
                $el.attr('aria-labelledby', $(openelement).attr('id'));
            }

            // Show and hide tooltips on hover
            if(options.action == 'hover'){
                options.keepfocus = false;

                // Handler: mouseenter, focusin
                $(openelement).on('mouseenter', function (event) {
                    methods.show(el, $(this).data('popup-ordinal'));
                });

                // Handler: mouseleave, focusout
                $(openelement).on('mouseleave', function (event) {
                    methods.hide(el);
                });

            } else {

                // Handler: Show popup when clicked on `open` element
                $(document).on('click', openelement, function (event) {
                    event.preventDefault();

                    var ord = $(this).data('popup-ordinal');
                    setTimeout(function() { // setTimeout is to allow `close` method to finish (for issues with multiple tooltips)
                        methods.show(el, ord);
                    }, 0);
                });
            }

            if (options.closebutton) {
                methods.addclosebutton(el);
            }

            if (options.detach) {
                $el.hide().detach();
            } else {
                $wrapper.hide();
            }
        },

        /**
         * Show method
         *
         * @param {object} el - popup instance DOM node
         * @param {number} ordinal - order number of an `open` element
         */
        show: function (el, ordinal) {
            var $el = $(el);

            if ($el.data('popup-visible')) return;

            // Initialize if not initialized. Required for: $('#popup').popup('show')
            if (!$el.data('popup-initialized')) {
                methods._init(el);
            }
            $el.attr('data-popup-initialized', 'true');

            var $body = $('body');
            var options = $el.data('popupoptions');
            var $wrapper = $('#' + el.id + '_wrapper');
            var $background = $('#' + el.id + '_background');

            // `beforeopen` callback event
            callback(el, ordinal, options.beforeopen);

            // Remember last clicked place
            lastclicked[el.id] = ordinal;

            // Add popup id to visiblePopupsArray
            setTimeout(function() {
                visiblePopupsArray.push(el.id);
            }, 0);

            // Calculating maximum z-index
            if (options.autozindex) {

                var elements = document.getElementsByTagName('*');
                var len = elements.length;
                var maxzindex = 0;

                for(var i=0; i<len; i++){

                    var elementzindex = $(elements[i]).css('z-index');

                    if(elementzindex !== 'auto'){

                      elementzindex = parseInt(elementzindex, 10);

                      if(maxzindex < elementzindex){
                        maxzindex = elementzindex;
                      }
                    }
                }

                zindexvalues[el.id] = maxzindex;

                // Add z-index to the background
                if (options.background) {
                    if (zindexvalues[el.id] > 0) {
                        $('#' + el.id + '_background').css({
                            zIndex: (zindexvalues[el.id] + 1)
                        });
                    }
                }

                // Add z-index to the wrapper
                if (zindexvalues[el.id] > 0) {
                    $wrapper.css({
                        zIndex: (zindexvalues[el.id] + 2)
                    });
                }
            }

            if (options.detach) {
                $wrapper.prepend(el);
                $el.show();
            } else {
                $wrapper.show();
            }

            opentimer = setTimeout(function() {
                $wrapper.css({
                    visibility: 'visible',
                    opacity: 1
                });

                $('html').addClass('popup_visible').addClass('popup_visible_' + el.id);
                $wrapper.addClass('popup_wrapper_visible');
            }, 20); // 20ms required for opening animation to occur in FF

            // Disable background layer scrolling when popup is opened
            if (options.scrolllock) {
                $body.css('overflow', 'hidden');
                if ($body.height() > $window.height()) {
                    $body.css('margin-right', bodymarginright + scrollbarwidth);
                }
            }

            if(options.backgroundactive){
                //calculates the vertical align
                $el.css({
                    top:(
                        $window.height() - (
                            $el.get(0).offsetHeight +
                            parseInt($el.css('margin-top'), 10) +
                            parseInt($el.css('margin-bottom'), 10)
                        )
                    )/2 +'px'
                });
            }

            $el.css({
                'visibility': 'visible',
                'opacity': 1
            });

            // Show background
            if (options.background) {
                $background.css({
                    'visibility': 'visible',
                    'opacity': options.opacity
                });

                // Fix IE8 issue with background not appearing
                setTimeout(function() {
                    $background.css({
                        'opacity': options.opacity
                    });
                }, 0);
            }

            $el.data('popup-visible', true);

            // Position popup
            methods.reposition(el, ordinal);

            // Remember which element had focus before opening a popup
            $el.data('focusedelementbeforepopup', document.activeElement);

            // Handler: Keep focus inside dialog box
            if (options.keepfocus) {
                // Make holder div focusable
                $el.attr('tabindex', -1);

                // Focus popup or user specified element.
                // Initial timeout of 50ms is set to give some time to popup to show after clicking on
                // `open` element, and after animation is complete to prevent background scrolling.
                setTimeout(function() {
                    if (options.focuselement === 'closebutton') {
                        $('#' + el.id + ' .' + el.id + closesuffix + ':first').focus();
                    } else if (options.focuselement) {
                        $(options.focuselement).focus();
                    } else {
                        $el.focus();
                    }
                }, options.focusdelay);

            }

            // Hide main content from screen readers
            $(options.pagecontainer).attr('aria-hidden', true);

            // Reveal popup content to screen readers
            $el.attr('aria-hidden', false);

            callback(el, ordinal, options.onopen);

            if (transitionsupport) {
                $wrapper.one('transitionend', function() {
                    callback(el, ordinal, options.opentransitionend);
                });
            } else {
                callback(el, ordinal, options.opentransitionend);
            }
        },

        /**
         * Hide method
         *
         * @param object el - popup instance DOM node
         * @param boolean outerClick - click on the outer content below popup
         */
        hide: function (el, outerClick) {
            // Get index of popup ID inside of visiblePopupsArray
            var popupIdIndex = $.inArray(el.id, visiblePopupsArray);

            // If popup is not opened, ignore the rest of the function
            if (popupIdIndex === -1) {
                return;
            }

            if(opentimer) clearTimeout(opentimer);

            var $body = $('body');
            var $el = $(el);
            var options = $el.data('popupoptions');
            var $wrapper = $('#' + el.id + '_wrapper');
            var $background = $('#' + el.id + '_background');

            $el.data('popup-visible', false);

            if (visiblePopupsArray.length === 1) {
                $('html').removeClass('popup_visible').removeClass('popup_visible_' + el.id);
            } else {
                if($('html').hasClass('popup_visible_' + el.id)) {
                    $('html').removeClass('popup_visible_' + el.id);
                }
            }

            // Remove popup from the visiblePopupsArray
            visiblePopupsArray.splice(popupIdIndex, 1);

            if($wrapper.hasClass('popup_wrapper_visible')) {
                $wrapper.removeClass('popup_wrapper_visible');
            }

            // Focus back on saved element
            if (options.keepfocus && !outerClick) {
                setTimeout(function() {
                    if ($($el.data('focusedelementbeforepopup')).is(':visible')) {
                        $el.data('focusedelementbeforepopup').focus();
                    }
                }, 0);
            }

            // Hide popup
            $wrapper.css({
                'visibility': 'hidden',
                'opacity': 0
            });
            $el.css({
                'visibility': 'hidden',
                'opacity': 0
            });

            // Hide background
            if (options.background) {
                $background.css({
                    'visibility': 'hidden',
                    'opacity': 0
                });
            }

            // Reveal main content to screen readers
            $(options.pagecontainer).attr('aria-hidden', false);

            // Hide popup content from screen readers
            $el.attr('aria-hidden', true);

            // `onclose` callback event
            callback(el, lastclicked[el.id], options.onclose);

            if (transitionsupport && $el.css('transition-duration') !== '0s') {
                $el.one('transitionend', function(e) {

                    if (!($el.data('popup-visible'))) {
                        if (options.detach) {
                            $el.hide().detach();
                        } else {
                            $wrapper.hide();
                        }
                    }

                    // Re-enable scrolling of background layer
                    if (options.scrolllock) {
                        setTimeout(function() {
                            $body.css({
                                overflow: 'visible',
                                'margin-right': bodymarginright
                            });
                        }, 10); // 10ms added for CSS transition in Firefox which doesn't like overflow:auto
                    }

                    callback(el, lastclicked[el.id], options.closetransitionend);
                });
            } else {
                if (options.detach) {
                    $el.hide().detach();
                } else {
                    $wrapper.hide();
                }

                // Re-enable scrolling of background layer
                if (options.scrolllock) {
                    setTimeout(function() {
                        $body.css({
                            overflow: 'visible',
                            'margin-right': bodymarginright
                        });
                    }, 10); // 10ms added for CSS transition in Firefox which doesn't like overflow:auto
                }

                callback(el, lastclicked[el.id], options.closetransitionend);
            }

        },

        /**
         * Toggle method
         *
         * @param {object} el - popup instance DOM node
         * @param {number} ordinal - order number of an `open` element
         */
        toggle: function (el, ordinal) {
            if ($(el).data('popup-visible')) {
                methods.hide(el);
            } else {
                setTimeout(function() {
                    methods.show(el, ordinal);
                }, 0);
            }
        },

        /**
         * Reposition method
         *
         * @param {object} el - popup instance DOM node
         * @param {number} ordinal - order number of an `open` element
         */
        reposition: function (el, ordinal) {
            var $el = $(el);
            var options = $el.data('popupoptions');
            var $wrapper = $('#' + el.id + '_wrapper');
            var $background = $('#' + el.id + '_background');

            ordinal = ordinal || 0;

            // Tooltip type
            if (options.type == 'tooltip') {
                $wrapper.css({
                    'position': 'absolute'
                });

                var $tooltipanchor;
                if (options.tooltipanchor) {
                    $tooltipanchor = $(options.tooltipanchor);
                } else if (options.openelement) {
                    $tooltipanchor = $(options.openelement).filter('[data-popup-ordinal="' + ordinal + '"]');
                } else {
                    $tooltipanchor = $('.' + el.id + opensuffix + '[data-popup-ordinal="' + ordinal + '"]');
                }

                var linkOffset = $tooltipanchor.offset();

                // Horizontal position for tooltip
                if (options.horizontal == 'right') {
                    $wrapper.css('left', linkOffset.left + $tooltipanchor.outerWidth() + options.offsetleft);
                } else if (options.horizontal == 'leftedge') {
                    $wrapper.css('left', linkOffset.left + $tooltipanchor.outerWidth() - $tooltipanchor.outerWidth() +  options.offsetleft);
                } else if (options.horizontal == 'left') {
                    $wrapper.css('right', $window.width() - linkOffset.left  - options.offsetleft);
                } else if (options.horizontal == 'rightedge') {
                    $wrapper.css('right', $window.width()  - linkOffset.left - $tooltipanchor.outerWidth() - options.offsetleft);
                } else {
                    $wrapper.css('left', linkOffset.left + ($tooltipanchor.outerWidth() / 2) - ($el.outerWidth() / 2) - parseFloat($el.css('marginLeft')) + options.offsetleft);
                }

                // Vertical position for tooltip
                if (options.vertical == 'bottom') {
                    $wrapper.css('top', linkOffset.top + $tooltipanchor.outerHeight() + options.offsettop);
                } else if (options.vertical == 'bottomedge') {
                    $wrapper.css('top', linkOffset.top + $tooltipanchor.outerHeight() - $el.outerHeight() + options.offsettop);
                } else if (options.vertical == 'top') {
                    $wrapper.css('bottom', $window.height() - linkOffset.top - options.offsettop);
                } else if (options.vertical == 'topedge') {
                    $wrapper.css('bottom', $window.height() - linkOffset.top - $el.outerHeight() - options.offsettop);
                } else {
                    $wrapper.css('top', linkOffset.top + ($tooltipanchor.outerHeight() / 2) - ($el.outerHeight() / 2) - parseFloat($el.css('marginTop')) + options.offsettop);
                }

            // Overlay type
            } else if (options.type == 'overlay') {

                // Horizontal position for overlay
                if (options.horizontal) {
                    $wrapper.css('text-align', options.horizontal);
                } else {
                    $wrapper.css('text-align', 'center');
                }

                // Vertical position for overlay
                if (options.vertical) {
                    $el.css('vertical-align', options.vertical);
                } else {
                    $el.css('vertical-align', 'middle');
                }
            }
        },

        /**
         * Add-close-button method
         *
         * @param {object} el - popup instance DOM node
         */
        addclosebutton: function (el) {
            var genericCloseButton;

            if ($(el).data('popupoptions').closebuttonmarkup) {
                genericCloseButton = $(options.closebuttonmarkup).addClass(el.id + '_close');
            } else {
                genericCloseButton = '<button class="popup_close ' + el.id + '_close" title="Close" aria-label="Close"><span aria-hidden="true"> </span></button>';
            }

            if ($el.data('popup-initialized')){
                $el.append(genericCloseButton);
            }

        }

    };

    /**
     * Callback event calls
     *
     * @param {object} el - popup instance DOM node
     * @param {number} ordinal - order number of an `open` element
     * @param {function} func - callback function
     */
    var callback = function (el, ordinal, func) {
        var options = $(el).data('popupoptions');
        var openelement =  (options.openelement) ? options.openelement : ('.' + el.id + opensuffix);
        var elementclicked = $(openelement + '[data-popup-ordinal="' + ordinal + '"]');
        if (typeof func == 'function') {
            func.call($(el), el, elementclicked);
        }
    };

    // Hide popup if ESC key is pressed
    $(document).on('keydown', function (event) {
        if(visiblePopupsArray.length) {
            var elementId = visiblePopupsArray[visiblePopupsArray.length - 1];
            var el = document.getElementById(elementId);

            if ($(el).data('popupoptions').escape && event.keyCode == 27) {
                methods.hide(el);
            }
        }
    });

    // Hide popup on click
    $(document).on('click', function (event) {
        if(visiblePopupsArray.length) {
            var elementId = visiblePopupsArray[visiblePopupsArray.length - 1];
            var el = document.getElementById(elementId);
            var closeButton = ($(el).data('popupoptions').closeelement) ? $(el).data('popupoptions').closeelement : ('.' + el.id + closesuffix);

            // If Close button clicked
            if ($(event.target).closest(closeButton).length) {
                event.preventDefault();
                methods.hide(el);
            }

            // If clicked outside of popup
            if ($(el).data('popupoptions').blur && !$(event.target).closest('#' + elementId).length && event.which !== 2 && $(event.target).is(':visible')) {

                if ($(el).data('popupoptions').background) {
                    // If clicked on popup cover
                    methods.hide(el);

                    // Older iOS/Safari will trigger a click on the elements below the cover,
                    // when tapping on the cover, so the default action needs to be prevented.
                    event.preventDefault();

                } else {
                    // If clicked on outer content
                    methods.hide(el, true);
                }
            }
        }
    });

    // Keep keyboard focus inside of popup
    $(document).on('keydown', function(event) {
        if(visiblePopupsArray.length && event.which == 9) {

            // If tab or shift-tab pressed
            var elementId = visiblePopupsArray[visiblePopupsArray.length - 1];
            var el = document.getElementById(elementId);

            // Get list of all children elements in given object
            var popupItems = $(el).find('*');

            // Get list of focusable items
            var focusableItems = popupItems.filter(focusableElementsString).filter(':visible');

            // Get currently focused item
            var focusedItem = $(':focus');

            // Get the number of focusable items
            var numberOfFocusableItems = focusableItems.length;

            // Get the index of the currently focused item
            var focusedItemIndex = focusableItems.index(focusedItem);

            // If popup doesn't contain focusable elements, focus popup itself
            if (numberOfFocusableItems === 0) {
                $(el).focus();
                event.preventDefault();
            } else {
                if (event.shiftKey) {
                    // Back tab
                    // If focused on first item and user preses back-tab, go to the last focusable item
                    if (focusedItemIndex === 0) {
                        focusableItems.get(numberOfFocusableItems - 1).focus();
                        event.preventDefault();
                    }

                } else {
                    // Forward tab
                    // If focused on the last item and user preses tab, go to the first focusable item
                    if (focusedItemIndex == numberOfFocusableItems - 1) {
                        focusableItems.get(0).focus();
                        event.preventDefault();
                    }
                }
            }
        }
    });

    /**
     * Plugin API
     */
    $.fn.popup = function (customoptions) {
        return this.each(function () {

            var $el = $(this);

            if (typeof customoptions === 'object') {  // e.g. $('#popup').popup({'color':'blue'})
                var opt = $.extend({}, $.fn.popup.defaults, customoptions, $el.data('popupoptions'));
                $el.data('popupoptions', opt);
                options = $el.data('popupoptions');

                methods._init(this);

            } else if (typeof customoptions === 'string') { // e.g. $('#popup').popup('hide')
                if (!($el.data('popupoptions'))) {
                    $el.data('popupoptions', $.fn.popup.defaults);
                    options = $el.data('popupoptions');
                }

                methods[customoptions].call(this, this);

            } else { // e.g. $('#popup').popup()
                if (!($el.data('popupoptions'))) {
                    $el.data('popupoptions', $.fn.popup.defaults);
                    options = $el.data('popupoptions');
                }

                methods._init(this);

            }

        });
    };

    $.fn.popup.defaults = {
        type: 'overlay',
        autoopen: false,
        background: true,
        backgroundactive: false,
        color: 'black',
        opacity: '0.5',
        horizontal: 'center',
        vertical: 'middle',
        offsettop: 0,
        offsetleft: 0,
        escape: true,
        blur: true,
        setzindex: true,
        autozindex: false,
        scrolllock: false,
        closebutton: false,
        closebuttonmarkup: null,
        keepfocus: true,
        focuselement: null,
        focusdelay: 50,
        outline: false,
        pagecontainer: null,
        detach: false,
        openelement: null,
        closeelement: null,
        transition: null,
        tooltipanchor: null,
        beforeopen: null,
        onclose: null,
        onopen: null,
        opentransitionend: null,
        closetransitionend: null
    };

})(jQuery);

</script>















<!-------------------------------------------------------------
                      LOAD JS SEARCH FILES
--------------------------------------------------------------->
<script type="text/javascript" src="http://www.dagrafixdesigns.com/Images/2008/DA_2016/DA_Pro16/util-functions.js"></script>
<script type="text/javascript" src="http://www.dagrafixdesigns.com/Images/2008/DA_2016/DA_Pro16/clear-default-text.js"></script>



<!-------------------------------------------------------------
                  CHANGE NAME IN BROWSER TAB
--------------------------------------------------------------->
<script>
$(document).prop('title', 'DA Pro 2017');
</script>



<!-------------------------------------------------------------
  FIX MFL LOADED CAMERATAGJS FILE FROM CONFLICTING WITH JQUERY
--------------------------------------------------------------->
<script type="text/javascript">
CameraTag.jQueryPreInstalled = true;
</script>



<!-------------------------------------------------------------
  ADD CAPTIONS AND TEXT TO REPORTS MFL HAS FORGOTTEN TO DO SO
--------------------------------------------------------------->
<script type="text/javascript">
$(document).ready(function () {

        $('.leaguelogo').wrap( 
                 $('<a class="logoimage">').attr('href', 'http://%LIVESCORINGHOST%/%YEAR%/home/%LEAGUEID%')
        );

  $('#homepagetabs li').attr('title', '');
  $('#body_options_22 .pagebody table.two_column_layout').first().removeClass('two_column_layout').addClass('report results').prepend('<caption><span>Weekly Results</span></caption>');
  $('#body_weekly .pagebody table.two_column_layout').first().removeClass('two_column_layout').addClass('report results').prepend('<caption><span>Weekly Results</span></caption>');
  $('#body_menu_page .pagebody .report.nocaption:contains("My Player News")').prepend('<caption><span>For Owners</span></caption>');
  $('#body_menu_page .pagebody .report.nocaption:contains("Set Up A New League")').prepend('<caption><span>My Leagues</span></caption>');
  $('#body_menu_page .pagebody .report.nocaption:contains("Refer A Friend")').prepend('<caption><span>For Commissioners</span></caption>');
  $('#body_menu_page .pagebody .report.nocaption:contains("Bulletin Board")').prepend('<caption><span>Communications</span></caption>');
  $('#body_menu_page .pagebody .report.nocaption:contains("Mail This Page")').prepend('<caption><span>This Page</span></caption>');
  $('#body_menu_page .pagebody .report.nocaption:contains("Help Center")').prepend('<caption><span>Help</span></caption>');
  $('#body_options_72 .pagebody .report').prepend('<caption><span>Write New Article</span></caption>');
  $('#body_edit_article .pagebody .report').prepend('<caption><span>Edit Article</span></caption>');
  $('#body_board_show .pagebody .report').prepend('<caption><span>Message Board Summary</span></caption>');
  $('#body_options_67 .pagebody .report').prepend('<caption><span>Delete Transactions</span></caption>');
  $('#body_options_158 .pagebody .report').prepend('<caption><span>Matchup Records</span></caption>');
  $('#body_generate_embed .pagebody .report').prepend('<caption><span>Generate MFL Widgets</span></caption>');
  $('#body_options_17 .pagebody .report.nocaption,#body_options_109 .pagebody .report.nocaption').prepend('<caption><span>Draft Results</span></caption>');
  $('#body_options_54 .pagebody .report').prepend('<caption><span>Head-To-Head Matchups</span></caption>');
  $('#body_options_137 .pagebody .report').prepend('<caption><span>Monthly Calendar</span></caption>');
  $('#body_options_112 .pagebody .report').prepend('<caption><span>League History</span></caption>');
  $('#body_options_105 .pagebody .report').prepend('<caption><span>Roster Grid</span></caption>');
  $('#body_options_03 .pagebody .report').prepend('<caption><span>League Transactions</span></caption>');
  $('#body_locked_players .pagebody .report:contains("Dropped By")').prepend('<caption><span>Current Locked Players</span></caption>');
  $('#body_free_agents .pagebody .report').prepend('<caption><span>Free Agents</span></caption>');
  $('#body_options_236 .pagebody .report').prepend('<caption><span>Player Projections</span></caption>');
  $('#body_options_37 .pagebody .report').prepend('<caption><span>Starter Points</span></caption>');
  $('#body_options_238 #map_canvas').wrap('<table class="map report"><tbody><tr><td></td></tr></tbody></table>');
  $('.map.report').prepend('<caption><span>League Map</span></caption>');
  $('#body_options_26 .pagebody .report').prepend('<caption><span>League Setup</span></caption>');
  $('#body_options_23 .pagebody .report.nocaption').prepend('<caption><span>Franchise Point Analysis</span></caption>');
  $('#body_options_81 .pagebody .report.nocaption').prepend('<caption><span>Franchise Point Analysis</span></caption>');
  $('#body_options_133 .pagebody .report.nocaption').prepend('<caption><span>Enter My Trade Bait</span></caption>');
  $('#body_options_08 .pagebody .report,#body_top .pagebody .report.nocaption').prepend('<caption><span>Player Stats</span></caption>');
  $('#body_processed_waivers .pagebody .report.nocaption').prepend('<caption><span>Processed Waivers</span></caption>');
  $('#body_options_52 .pagebody table:first').addClass('report');
  $('#body_new_predraft .pagebody table:first').addClass('report');
  $('#body_options_151 .pagebody .report').prepend('<caption><span>My Draft Preferences</span></caption>');
  $('#body_options_161 .pagebody .report').prepend('<caption><span>Pool Setup</span></caption>');
  $('#body_options_28 .pagebody .report').prepend('<caption><span>Accounting Setup</span></caption>');
  $('#body_options_40 .pagebody .report').prepend('<caption><span>Standings Setup</span></caption>');
  $('#body_options_65 .pagebody .report').prepend('<caption><span>Standings Columns Setup</span></caption>');
  $('#body_options_62 .pagebody .report').prepend('<caption><span>Division/Conference Setup</span></caption>');
  $('#body_league_setup1 .pagebody .report').prepend('<caption><span>League Setup</span></caption>');
  $('#body_options_145 .pagebody .report').prepend('<caption><span>Custom Waiver Order</span></caption>');
  $('#body_options_64 .pagebody .report').prepend('<caption><span>Setup Commissioner Email</span></caption>');
  $('#body_options_103 .pagebody .report').prepend('<caption><span>Send Out League Invites</span></caption>');
  $('#body_options_30 .pagebody .report').prepend('<caption><span>League Scoring Setup</span></caption>');
  $('#body_options_108 .pagebody .report').prepend('<caption><span>Select Scoring Package</span></caption>');
  $('#body_scoring_setup1 .pagebody .report.nocaption').prepend('<caption><span>Current Scoring Rules</span></caption>');
  $('#body_options_167 .pagebody .report').prepend('<caption><span>Refer A Friend</span></caption>');
  $('#body_options_63 .pagebody .report').prepend('<caption><span>Starting Lineup Setup</span></caption>');
  $('#body_options_149 .pagebody .report').prepend('<caption><span>Formations Setup</span></caption>');
  $('#body_options_111 .pagebody .report').prepend('<caption><span>Roster Limits</span></caption>');
  $('#body_options_94 .pagebody .report').prepend('<caption><span>Enter Custom Player</span></caption>');
  $('#body_options_95 .pagebody .report.nocaption').prepend('<caption><span>Enter Custom Positions</span></caption>');
  $('#body_options_186 .pagebody .report').prepend('<caption><span>Keeper League Setup</span></caption>');
  $('#body_options_144 .pagebody .report').prepend('<caption><span>Select Keepers</span></caption>');
  $('#body_options_147 .pagebody .report').prepend('<caption><span>Edit Drafted Column</span></caption>');
  $('#body_options_141 .pagebody .report').prepend('<caption><span>Set Up Victory Points</span></caption>');
  $('#body_options_84 .pagebody table:first').addClass('report');
  $('#body_options_84 .pagebody .report').prepend('<caption><span>Set Custom Standings Order</span></caption>');
  $('#body_options_12 textarea,#body_options_91 form').wrap('<table class="report nocap"><tbody><tr><td></td></tr></tbody></table>');
  $('#body_options_12 .pagebody .report.nocap').prepend('<caption><span>Create A Custom Homepagemessage</span></caption>');
  $('#body_options_12 .pagebody .report.nocaption').prepend('<caption><span>Label Homepagemessage</span></caption>');
  $('#body_options_75 .pagebody .report').prepend('<caption><span>Salary Cap Setup</span></caption>');
  $('#body_options_36 .pagebody .report').prepend('<caption><span>Edit Salaries/Contracts</span></caption>');
  $('#body_options_173 .pagebody .report').prepend('<caption><span>Duplicate This League</span></caption>');
  $('#body_options_140 .pagebody .report,#body_options_77 .pagebody .report,#body_options_78 .pagebody .report').prepend('<caption><span>Playoff Setup</span></caption>');
  $('#body_options_82 .pagebody .report.nocaption').prepend('<caption><span>Seed Playoff Teams</span></caption>');
  $('#body_options_85 .pagebody .report.nocaption').prepend('<caption><span>Lineup Setup</span></caption>');
  $('#body_options_86 .pagebody .report.nocaption').prepend('<caption><span>Trades Setup</span></caption>');
  $('#body_options_87 .pagebody .report.nocaption').prepend('<caption><span>Injured Reserve Setup</span></caption>');
  $('#body_options_110 .pagebody .report.nocaption').prepend('<caption><span>Create A New Event</span></caption>');
  $('#body_options_41 .pagebody .report.nocaption').prepend('<caption><span>Waivers Setup</span></caption>');
  $('#body_options_97 .pagebody .report.nocaption').prepend('<caption><span>Waivers Setup Criteria</span></caption>');
  $('#body_options_83 .pagebody .report.nocaption').prepend('<caption><span>Enter Custom Waiver Order</span></caption>');
  $('#body_options_113 .pagebody .report.nocaption').prepend('<caption><span>Grid: Draft Results</span></caption>');
  $('#body_options_89 .pagebody .report.nocaption').prepend('<caption><span>Revert Draft</span></caption>');
  $('#body_options_106 .pagebody .report.nocaption').prepend('<caption><span>Change Draft Pick</span></caption>');
  $('#body_options_92 .pagebody .report.nocaption').prepend('<caption><span>Draft Setup</span></caption>');
  $('#body_options_91 .pagebody .report,#body_options_90 .pagebody .report.nocaption').prepend('<caption><span>Setup Draft Order</span></caption>');
  $('#body_options_25 .pagebody .report.nocaption').prepend('<caption><span>Select A Packaged Schedule</span></caption>');
  $('#body_options_114 .pagebody .report.nocaption').prepend('<caption><span>Rearrange Franchises In Fantasy Schedule</span></caption>');
  $('#body_options_139 .pagebody .report.nocaption').prepend('<caption><span>Switch Schedule Weeks</span></caption>');
  $('#body_options_168 .pagebody .report.nocaption').prepend('<caption><span>Import Fantasy Schedule</span></caption>');
  $('#body_options_61 .pagebody .report.nocaption').prepend('<caption><span>Reports and Other Settings</span></caption>');
  $('#body_options_59 .pagebody .report.nocaption').prepend('<caption><span>Setup Scrolling Text</span></caption>');
  $('#body_options_35 .pagebody .report.nocaption').prepend('<caption><span>Load League Images And CSS</span></caption>');
  $('#body_options_55 .pagebody .report.nocaption').prepend('<caption><span>Icons Setup</span></caption>');
  $('#body_options_56 .pagebody .report.nocaption').prepend('<caption><span>Menu Display Options</span></caption>');
  $('#body_options_57 .pagebody .report.nocaption').prepend('<caption><span>Skin Color Setup</span></caption>');
  $('#body_options_58 .pagebody .report.nocaption').prepend('<caption><span>Skin Font Setup</span></caption>');
  $('#body_options_128 .pagebody .report.nocaption').prepend('<caption><span>Select a skin</span></caption>');
  $('#body_options_44 .pagebody .report.nocaption').prepend('<caption><span>Auction Results</span></caption>');
  $('#body_options_102 .pagebody .report.nocaption').prepend('<caption><span>Detailed Auction Results</span></caption>');
  $('#body_options_119 .pagebody .report.nocaption').prepend('<caption><span>Waivers Tiebreaker</span></caption>');
  $('#body_options_71 .pagebody table:first').addClass('report');
  $('#body_options_71 .pagebody .report').prepend('<caption><span>Edit Homepage Tabs Layout</span></caption>');
  $('#body_options_68 .pagebody .report.nocaption').prepend('<caption><span>Create New Poll</span></caption>');
  $('#body_options_124 .pagebody .report.nocaption').prepend('<caption><span>Remove This League</span></caption>');
  $('#body_accounting_report .pagebody .report.nocaption').prepend('<caption><span>Accounting Report</span></caption>');
  $('#body_options_69 .pagebody .report.nocaption').prepend('<caption><span></span></caption>');
  $('#body_options_69 caption span').each(function(index) {
    $(this).text($(this).closest('table').find('th').text());
  });

  if((typeof franchise_id !== 'undefined') && (franchise_id >= parseInt("0000") || franchise_id<=parseInt("0096"))){
    $('body').addClass('owners-only'); 
      if(franchise_id=="0000") {
        $('body').addClass('commish-only').removeClass('owners-only');          
      }
  }
  else{
    $('body').addClass('guest-only');
  }
});
</script>




<!-------------------------------------------------------------
    THIS WILL REMOVE ANY SKIN CSS LOADED ONTO THE MFL SITE
--------------------------------------------------------------->
<script type="text/javascript">
$(document).ready(function () {
  jQuery('#skin_stylesheet').remove();
});
</script>




<!-------------------------------------------------------------
              CENTER AND SIZE MFL POPOUT CHAT
--------------------------------------------------------------->
<script type="text/javascript">
function chat_window (url) {
 var width  = 500;
 var height = 480;
 var left   = (screen.width  - width)/2;
 var top    = (screen.height - height)/2;
 var params = 'width='+width+', height='+height;
 params += ', top='+top+', left='+left;
 params += ', directories=no';
 params += ', location=no';
 params += ', menubar=no';
 params += ', resizable=no';
 params += ', scrollbars=yes';
 params += ', status=no';
 params += ', toolbar=no'
 newwin=window.open(url,'chat_window', params);
 chat_window.focus();
}
</script>



<!-------------------------------------------------------------
                   LOAD COMMISSIONER ICON
--------------------------------------------------------------->
<div id='commishIconDIV'  style="display:none"><module name="MY_ICON" FRANCHISE="0000"/></div>



<!-------------------------------------------------------------
                 LOAD RAW CHAT JS SCRIPT
--------------------------------------------------------------->
<script type="text/javascript">
  function parseChatXML (chatXML) {
   var messages = chatXML.getElementsByTagName("message");
   var displayContent = '';
   
   var chat_table = document.getElementById("league_chat");
   var table_body;
   if (chat_table) {
      table_body = chat_table.getElementsByTagName("TBODY");
   } else {
      table_body = document.getElementsByTagName("TBODY");
   }

   var do_clear = false;
   var action = chatXML.getElementsByTagName("messages")[0].getAttribute("action");
   if (action && action == "clear") {
      do_clear = true;
   }

   var body_rows = table_body[0].getElementsByTagName("TR");
   var second_row = body_rows[1];
   var newMessage = 0;

   // todo - compare each message's "to" value to the current franchise_id - if it exists, and it's the same
   // display it, otherwise, don't
   if (! do_clear) {
      var messagesDisplayed = 0;
      for (var i = 0; i < messages.length; i++) {
         if (messagesDisplayed > displayMessages) {
            break;
         }
         var id = messages[i].getAttribute("id");
         if (! document.getElementById(id)) {
            var this_fid = messages[i].getAttribute("franchise_id");
            var to_fid = messages[i].getAttribute("to");
            if (to_fid != null) {
               // don't display it to folks who haven't logged in.
               if (typeof franchise_id == "undefined") {
                  // displayMessages++;
                  continue;
               }
               // don't display it unless i'm the sender or receiver!
               if (to_fid != franchise_id && this_fid != franchise_id) {
                  // displayMessages++;
                  continue;
               }
            }
            var message = messages[i].getAttribute("message");
            var posted = messages[i].getAttribute("posted");
            var new_row = document.createElement("TR");
            new_row.setAttribute("id", id);
            new_row.setAttribute("title", "Posted: " + posted);
            var make_it_bold = false;
            if (to_fid != null) {
               make_it_bold = true;
            }
            var by_cell = document.createElement("TD");
			var fdb = franchiseDatabase['fid_'+this_fid];
            
			if(this_fid=='0000')
			{
				displayContent =  jQuery('#commishIconDIV').html().trim();
			}
			else
			{
				if(fdb.icon!='') 
				{
					displayContent	= '<img src="' + fdb.icon + '"class="franchiseicon" title="' + fdb.name + '" />';
				}
			      else
			       {
					displayContent = fdb.name;         
				}
			}
			displayContent	= '<a href="' + window.baseURLDynamic + '/' + window.year + '/options?L=' + window.league_id + '&F=' + fdb.id + '&O=01">' + displayContent+'</a>'

			by_cell.innerHTML = (make_it_bold ? "<b>" : "") + displayContent + (make_it_bold ? "</b>" : "");
		
            new_row.appendChild(by_cell);
            var message_cell = document.createElement("TD");
            message_cell.innerHTML = (make_it_bold ? "<b>" : "") + message + (make_it_bold ? "</b>" : "");
            new_row.appendChild(message_cell);
            table_body[0].insertBefore(new_row, second_row);
            if (typeof franchise_id != "undefined" && this_fid != franchise_id) {
               newMessage++;
            }
         }
         messagesDisplayed++;
      }

      body_rows = table_body[0].getElementsByTagName("TR");
      for (var i = body_rows.length; i > displayMessages + 1; i--) {
         if (body_rows[i] && body_rows[i].getAttribute("id")) {
            table_body[0].deleteRow(i);
         }
      }


      body_rows = table_body[0].getElementsByTagName("TR");
      for (var i = 1; i < body_rows.length; i++) {
         if (body_rows[i] && body_rows[i].getAttribute("id") && body_rows[i].getAttribute("id") == "loadingchatdata") {
            table_body[0].deleteRow(i);
         }
      }
   } else {
      while (body_rows.length > 2) {
         table_body[0].deleteRow(1);
         body_rows = table_body[0].getElementsByTagName("TR");
      }
   }

   body_rows = table_body[0].getElementsByTagName("TR");
   for (var i = 1; i < body_rows.length; i++) {
      var this_class = "eventablerow";
      if (i % 2 == 1) {
         this_class = "oddtablerow";
      }
      body_rows[i].setAttribute("className", this_class);
      body_rows[i].setAttribute("class", this_class);
   }
   messages = null;
   if (newMessage == 1) {
      play_audio_clip("ohoh", "chat_audio_clip");
      // only do this if it's not the initial page load time!
      if (! document.getElementById("body_home")) {
         setTimeout("document.chat.chat.focus()", 100);
      }
   }
}
</script>



<!-------------------------------------------------------------
             MFL HOMEPAGE MESSAGE POPUP ALERT
--------------------------------------------------------------->
<script type="text/javascript">

$(document).ready(function ()
{
    if(jQuery('.homepagemessage').length>0)
    {
        $('#openMessageLink').addClass('alert_img');
        jQuery('#openMessageLink').click(
            function(){
              openMessageLinkFn();
            }
        );
    
        jQuery('.homepagemessage').wrapAll('<div id="messagePopupContentInner" style="display:none"/>');
        jQuery('#messagePopupContent').html(jQuery('#messagePopupContentInner').html());
        
         $("#messagePopupWrapper").dialog(
              {
                autoOpen    : false,
                resizable    : false,
                modal        : true,
                open        : function()
                {
                $('#messagePopupOverlay').show();
                $('#messagePopupWrapper').show();
                                        
                },
                close        : function()
                {
                $('#messagePopupOverlay').hide();
                $('#messagePopupWrapper').hide();
                }   
              });
    }
    else
    {
        jQuery('#openMessageLink').remove();

    }
});
function openMessageLinkFn()
{
    $( "#messagePopupWrapper" ).dialog("open");
}
function removedFromReady()
{
    jQuery('.wrap table').each(function(index)
    {    
        var tabObj = $(this).find('tr');
        for(var i=0;i<tabObj.length;i++)   
        {    
            if(i==0)
            {
                tabObj.eq(i).append('<td><a  id="open_'+index+'" href="javascript:openMessageTable('+index+')">Open</a></td>');
                tabObj.eq(i).append('<td><a style="display:none" id="close_'+index+'"href="javascript:closeMessageTable('+index+')">Close</a></td>');
            }
            else
            {
                tabObj.eq(i).hide();
            }
        }  
    });


}
function openMessageTable(index)
{
    var currentObj    =    jQuery('.wrap table').eq(index).find('tr');
    currentObj.find('#open_'+index).hide();
    currentObj.find('#close_'+index).show();
    for(var i=1;i<currentObj.length;i++)
    {
        currentObj.eq(i).show();
    }
}
function closeMessageTable(index)
{
    var currentObj    =    jQuery('.wrap table').eq(index).find('tr');
    currentObj.find('#close_'+index).hide();
    currentObj.find('#open_'+index).show();
    for(var i=1;i<currentObj.length;i++)
    {
        currentObj.eq(i).hide();
    }
}
function closeMessagePopupFn()
{
$( "#messagePopupWrapper" ).dialog("close");

}
</script>

<div id="messagePopupOverlay" class="messagePopupOverlay" style="display: none;"></div>
<div id="messagePopupWrapper" class="messagePopupWrapper">
  <h3 id="messagePopupName" class="messagePopupName">MFL Site News</h3>
  <a id="messagePopupClose" class="messagePopupClose" href="javascript:closeMessagePopupFn()">X<span></span></a>
 <div id="messagePopupContent" class="messagePopupContent"></div>
</div>

<div><a id="openMessageLink" title="MFL Message Alert"></a></div>


<!-------------------------------------------------------------
        SCRIPT TO PLACE LOGGED IN USER TABLES FIRST
--------------------------------------------------------------->
<script type="text/javascript"> 
$(document).ready(function () {
var isUserLoggedIn = typeof franchise_id === 'undefined'?false:true; 
  if(isUserLoggedIn){
console.log(franchise_id);
    if(endsWith(document.URL,'O=01') || endsWith(document.URL,'O=07')||document.URL.indexOf('O=07&DISPLAY') >-1){
     var element = $('table.report');
    console.log(element.length);
    for(i = 0 ; i < element.length;i++){
         if(element.eq(i).html().indexOf('FID='+franchise_id)>-1 || element.eq(i).html().indexOf('franchise_'+franchise_id)>-1){
            var selected = '<table align="center" cellspacing="1" class="report">'+element.eq(i).html()+"</table>";
var replace = '<table align="center" cellspacing="1" class="report">'+element.eq(0).html()+"</table>";
            element.eq(0).html(selected);
            element.eq(i).html(replace);
            break;
         }
    }
    }
  }
});
function endsWith(str, suffix) {
    return str.indexOf(suffix, str.length - suffix.length) !== -1;
}
</script> 



<!-------------------------------------------------------------
    MUST EMBED CSS TO HIDE HPM POPUP SO IT LOADS WITH SCRIPT
--------------------------------------------------------------->
<style>
.homepagemessage,.messagePopupOverlay,.messagePopupWrapper {display:none;}
</style>



<!-------------------------------------------------------------
                       CENTER POPUP WINDOWS
--------------------------------------------------------------->
<script>
  /**
   * Opens window screen centered.
   * @param windowWidth the window width in pixels (integer)
   * @param windowHeight the window height in pixels (integer)
   * @param windowOuterHeight the window outer height in pixels (integer)
   * @param url the url to open
   * @param wname the name of the window
   * @param features the features except width and height (status, toolbar, location, menubar, directories, resizable, scrollbars)
   */
  function CenterWindow(windowWidth, windowHeight, windowOuterHeight, url, wname, features) {
    var centerLeft = parseInt((window.screen.availWidth - windowWidth) / 2);
    var centerTop = parseInt(((window.screen.availHeight - windowHeight) / 2) - windowOuterHeight);
 
    var misc_features;
    if (features) {
      misc_features = ', ' + features;
    }
    else {
      misc_features = ', status=no, location=no, scrollbars=yes, resizable=yes';
    }
    var windowFeatures = 'width=' + windowWidth + ',height=' + windowHeight + ',left=' + centerLeft + ',top=' + centerTop + misc_features;
    var win = window.open(url, wname, windowFeatures);
    win.focus();
    return win;
  }
</script>





<!-------------------------------------------------------------
                    RUN POPUP SCRIPT
--------------------------------------------------------------->
<script type="text/javascript">
  $(document).ready(function() {
    $('#hof_btn , #alpha_btn , #rafters_btn , #postseason_btn').popup({
      transition: 'all 0.5s',
      opacity: '.7',
      scrolllock: 'false',
      closeelement: '.close_by_div'
    });
      var dataReturned = true;
        $('.tablink').on('click',function(){
         if(dataReturned == true){
           $.get('http://%HOST%/%YEAR%/options?L=%LEAGUEID%&O=247&SEQNO=14', function (data) {
             $(data).find('#rafters').appendTo('#rafters_btn');
             $(data).find('#hof').appendTo('#hof_btn');
             $(data).find('#alphacup').appendTo('#alpha_btn');
             $(data).find('#postseason').appendTo('#postseason_btn');
             dataReturned = false;
           });
         }
});

  });
</script>

  <div id="rafters_btn"></div>
  <div id="hof_btn"></div>
  <div id="alpha_btn"></div>
  <div id="postseason_btn"></div>

<!-------------------------------------------------------------
           WRAP MFL CONTENT - CLOSED IN FOOTER MSG
--------------------------------------------------------------->
<div class="contentwrapper">





<!-------------------------------------------------------------
           USE POPUP SCROLLER FOR SOME REPORTS
--------------------------------------------------------------->
<script type="text/javascript">
    $(document).ready(function () {
        $('#franchise_schedule').wrap('<div class="scheduleWrap"></div>');
        $('#nflschedule').wrap('<div class="nflscheduleWrap"></div>');
        $('.scheduletwo').wrap('<div class="nextweekstwoWrap"></div>');
        $('#twitter_feed').wrap('<div class="scheduleWrap"></div>');
        $('.homepagemessage').wrap('<div class="messageWrap"></div>');
        $('.scheduleWrap').perfectScrollbar({
            wheelSpeed: 60
        });
        $('.nextweekstwoWrap').perfectScrollbar({
            wheelSpeed: 60
        });
        $('.nflscheduleWrap').perfectScrollbar({
            wheelSpeed: 60
        });
        $('.messageWrap').perfectScrollbar({
            wheelSpeed: 60
        });
    });
</script>

































